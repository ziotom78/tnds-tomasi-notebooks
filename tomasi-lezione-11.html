<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Maurizio Tomasi">
  <title>Laboratorio di TNDS – Lezione 11</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js-5.2.1/dist/reset.css">
  <link rel="stylesheet" href="reveal.js-5.2.1/dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      /* overflow: visible; */
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="reveal.js-5.2.1/dist/theme/white.css" id="theme">
  <link rel="stylesheet" href="./css/custom.css"/>
  <link rel="stylesheet" href="./css/asciinema-player.css"/>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Laboratorio di TNDS – Lezione 11</h1>
  <p class="author">Maurizio Tomasi</p>
  <p class="date">Martedì 2 dicembre 2025</p>
</section>

<section id="link-alle-risorse-online" class="slide level1">
<h1>Link alle risorse online</h1>
<ul>
<li><p>La spiegazione dettagliata degli esercizi si trova qui: <a
href="carminati-esercizi-11.html">carminati-esercizi-11.html</a>.</p></li>
<li><p>Una soluzione degli esercizi in Julia è disponibile nel <a
href="https://ziotom78.github.io/tnds-notebooks/lezione10/">notebook</a>
usato nella scorsa esercitazione.</p></li>
</ul>
</section>
<section id="esercizi-per-oggi" class="slide level1">
<h1>Esercizi per oggi</h1>
<ul>
<li><a href="./carminati-esercizi-11.html#esercizio-11.0">Esercizio
11.0</a> (da consegnare)</li>
<li><a href="./carminati-esercizi-11.html#esercizio-11.1">Esercizio
11.1</a> (facoltativo)</li>
</ul>
</section>
<section id="conclusioni-sul-corso-di-tnds" class="slide level1">
<h1>Conclusioni sul corso di TNDS</h1>
</section>
<section id="come-usare-quanto-imparato-qui" class="slide level1">
<h1>Come usare quanto imparato qui?</h1>
<ul>
<li><p>In questo corso abbiamo insegnato il linguaggio C++ e i
fondamenti della OOP.</p></li>
<li><p>È una preoccupazione mia e degli altri docenti del corso che non
vi fermiate a questo! (Carminati vi ha già mostrato Python, io vi ho
mostrato Julia…)</p></li>
<li><p>Nella maggior parte delle situazioni in cui può imbattersi un
fisico, esistono alternative più <em>semplici</em> ed
<em>efficienti</em> del C++ e della programmazione OOP.</p></li>
</ul>
</section>
<section class="slide level1">

<iframe src="https://player.vimeo.com/video/664212814?h=ff70565e01&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" width="1024" height="768" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen title="DOS demo">
</iframe>
</section>
<section id="turbo-vision" class="slide level1">
<h1>Turbo Vision</h1>
<ul>
<li><p>Un programma Turbo Vision poteva salvare su disco il suo
stato.</p></li>
<li><p>Quando si usciva dal programma e lo si faceva ripartire, l’utente
ritrovava tutto nello stesso stato.</p></li>
<li><p>Ogni classe che definiva gli oggetti del programma (finestre di
testo, bottoni, dialoghi…) derivava dalla classe <code>TObject</code>
(dalla versione 2.0, <code>TStreamable</code>), che aveva un metodo
<code>save</code> e un metodo <code>load</code>.</p></li>
</ul>
</section>
<section id="gestione-dello-stato" class="slide level1">
<h1>Gestione dello stato</h1>
<ul>
<li><p>Ecco una versione molto semplificata della funzione di
salvataggio:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>TObject <span class="op">**</span>objects <span class="op">=</span> …<span class="op">;</span>  <span class="co">// Array of pointers to TObject</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> num_of_objects<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    objects<span class="op">[</span>i<span class="op">]-&gt;</span>save<span class="op">();</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><p>Ovviamente <code>TObject::save</code> è un metodo virtuale puro,
che viene ridefinito in tutti gli oggetti discendenti: è il
polimorfismo!</p></li>
</ul>
</section>
<section id="gerarchia-di-turbo-vision" class="slide level1">
<h1>Gerarchia di Turbo Vision</h1>
<center>
<img data-src="images/turbo-vision-hierarchy.png" />
</center>
<p>In Turbo Vision 1.0, quasi tutte le classi sono derivate dalla classe
<code>TObject</code>!</p>
</section>
<section id="borland-c-per-windows" class="slide level1">
<h1>Borland C++ per Windows</h1>
<center>
<img data-src="images/borland-c++-win31.png" style="height:40.0%" />
</center>
<p>La versione per Windows del Borland C++ (1992) includeva
<strong>OWL</strong> (Object Windows Library) per scrivere programmi
Windows.</p>
</section>
<section id="object-windows-library" class="slide level1">
<h1>Object Windows Library</h1>
<center>
<img data-src="images/owlchess.png" style="height:40.0%" />
</center>
<p>Programma di esempio di Borland C++, scritto usando OWL. (Il gioco
funziona veramente!) Ce n’era pure una versione per DOS in modalità
caratteri scritta usando Turbo Vision.</p>
</section>
<section id="root" class="slide level1">
<h1>ROOT</h1>
<center>
<img data-src="images/root-tobject.png" style="width:40.0%" />
</center>
<p>Anche ROOT (che nasce nel 1994) usa l’approccio di fondare tutta la
gerarchia di classi su un solo tipo, <code>TObject</code>.</p>
</section>
<section id="microsoft-foundation-classes" class="slide level1">
<h1>Microsoft Foundation Classes</h1>
<center>
<img data-src="images/mfc-hierarchy.png" style="width:50.0%" />
</center>
<p>Quasi tutte le classi derivano da <code>CObject</code> (1998).</p>
</section>
<section id="problemi-con-la-oop" class="slide level1">
<h1>Problemi con la OOP</h1>
</section>
<section id="incapsulamento" class="slide level1">
<h1>Incapsulamento</h1>
<p>La promessa dell’OOP era quella di rendere il codice più
riutilizzabile:</p>
<ul>
<li>Usando l’incapsulamento, tutto è interno a una classe</li>
<li>Posso quindi prendere la classe e usarla in un nuovo progetto</li>
</ul>
</section>
<section id="incapsulamento-1" class="slide level1">
<h1>Incapsulamento</h1>
<p>Se però volessi riutilizzare <code>TRadioButtons</code> di Turbo
Vision in un mio programma, non potrei limitarmi a prendere solo quella
classe:</p>
<ul>
<li><code>TRadioButtons</code> deriva da <code>TCluster</code>…</li>
<li>…che deriva da <code>TGroup</code>…</li>
<li>…che deriva da <code>TView</code>…</li>
<li>…che deriva da <code>TObject</code>.</li>
<li><code>TView</code> usa le classi <code>TPoint</code>,
<code>TRect</code>, <code>TScreen</code>, e
<code>TApplication</code>.</li>
</ul>
<p>Se voglio usare un algoritmo di <code>TRadioButtons</code> nel mio
programma, devo incorporare tutto: la promessa di riutilizzabilità non
si concretizza quasi mai!</p>
</section>
<section id="gerarchie-di-classi" class="slide level1">
<h1>Gerarchie di classi</h1>
<p>Nei progetti che usano OOP, c’è una enorme proliferazione di classi,
legate tra loro da relazioni spesso complesse. Questo rende il codice
difficile da comprendere.</p>
<center>
<img data-src="images/mfc-hierarchy.png" style="width:40.0%" />
</center>
</section>
<section id="gerarchie-di-classi-1" class="slide level1">
<h1>Gerarchie di classi</h1>
<ul>
<li>Considerate le Microsoft Foundation Classes (slide precedente): è
difficile comprenderne la struttura intricata!</li>
<li>Eppure la slide presenta solo le <strong><em>relazioni</em></strong>
tra i tipi di dati…</li>
<li>…e nulla ancora dice sugli <strong><em>algoritmi</em></strong> (es.,
come disegnare a video una finestra, cosa succede quando si preme un
bottone…).</li>
<li>Con la OOP, l’implementazione degli algoritmi va affrontata solo
dopo che si è definita la gerarchia di classi!</li>
</ul>
</section>
<section id="alexander-stepanov" class="slide level1">
<h1>Alexander Stepanov</h1>
<ul>
<li>Alexander Stepanov, uno dei creatori della libreria C++ STL
(<em>Standard Template Library</em>, quella che definisce
<code>std::vector</code>, <code>std::sort</code>, etc.) è da sempre
stato un oppositore della programmazione OOP.</li>
<li>Per il C++ propose un meccanismo alternativo, chiamato
<em>programmazione generica</em> (v. <a
href="http://www.stlport.org/resources/StepanovUSA.html">An Interview
with A. Stepanov</a>).</li>
<li>La sua idea è che i programmatori debbano concentrarsi innanzitutto
sugli <strong><em>algoritmi</em></strong>, e che solo quando questi sono
definiti si debba pensare ai tipi di dati su cui applicarli.</li>
<li>Al contrario, l’OOP obbliga a partire dal tipo di dato (ossia, la
gerarchia di classi) per definire poi gli algoritmi.</li>
</ul>
</section>
<section id="oop-e-c" class="slide level1">
<h1>OOP e C++</h1>
<ul>
<li>Bjarne Stroustrup, il creatore del C++, sposò le idee di
Stepanov</li>
<li>Lo standard C++98 include per la prima volta una versione della
STL.</li>
<li>La STL fornisce gli header <code>&lt;string&gt;</code>,
<code>&lt;vector&gt;</code>, etc.</li>
<li>Pochissimi di questi file usano l’ereditarietà e il
polimorfismo.</li>
</ul>
</section>
<section id="dove-va-oggi-il-c" class="slide level1">
<h1>Dove va oggi il C++</h1>
<ul>
<li>La tendenza del linguaggio C++ negli standard succedutisi negli anni
è stata di potenziare la programmazione generica e la
metaprogrammazione.</li>
<li>Poche delle potenzialità delle versioni più recenti (dal C++11 in
poi) sono legate alla OOP.</li>
<li>Due eccezioni che avete imparato ad usare sono le keyword
<code>final</code> e <code>override</code>, che regolano il
polimorfismo.</li>
</ul>
</section>
<section id="piccolo-esperimento" class="slide level1">
<h1>Piccolo esperimento</h1>
<ul>
<li><p>A dimostrazione di ciò, contiamo i file della libreria standard
C++ sui computer del laboratorio che implementano metodi
<code>virtual</code> (segno di polimorfismo):</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode sh"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-l</span> virtual <span class="va">$(</span><span class="fu">find</span> /usr/include/c++/4.8.5/<span class="pp">*</span> <span class="at">-type</span> f<span class="va">)</span> <span class="dt">\</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>     <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">64</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-L</span> virtual <span class="va">$(</span><span class="fu">find</span> /usr/include/c++/4.8.5/<span class="pp">*</span> <span class="at">-type</span> f<span class="va">)</span> <span class="dt">\</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>     <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">629</span></span></code></pre></div></li>
<li><p>(Usando <code>-l</code> si contano i file che includono
<code>virtual</code>, usando <code>-L</code> quelli che
<strong>non</strong> lo includono).</p></li>
</ul>
</section>
<section id="dove-va-il-gcc" class="slide level1">
<h1>Dove va il GCC</h1>
<ul>
<li>GCC 4.8: 64 / 629 file contengono <code>virtual</code></li>
<li>GCC 8.3: 61 / 714 file contengono <code>virtual</code></li>
</ul>
<center>
<img data-src="images/gcc-virtual-keyword-barchart.png" />
</center>
</section>
<section id="calcolo-scientifico" class="slide level1">
<h1>Calcolo scientifico</h1>
<p>Se la fisica computazionale vi interessa, vi consiglio caldamente di
impratichirvi con uno o più di questi strumenti:</p>
<ol type="1">
<li><a href="https://www.python.org/">Python</a>: molto semplice, sono
disponibili tantissime librerie (matematica, astronomia, web,
multimedia, programmazione giochi, etc.)</li>
<li><a href="https://julialang.org/">Julia</a>: meno librerie di Python,
ma molto più veloce e potente.</li>
<li><a href="https://www.r-project.org/">GNU R</a>: per analisi
statistiche complesse non ha rivali.</li>
<li><a href="https://www.wolfram.com/mathematica/">Mathematica</a>, a
pagamento: molto potente nel calcolo simbolico.</li>
<li><a href="https://www.mathworks.com/products/matlab.html">Matlab</a>,
a pagamento, è orientato ad applicazioni ingegneristiche.</li>
<li><a href="https://en.wikipedia.org/wiki/Fortran">Fortran</a>: come il
C++, ma più adatto al calcolo scientifico (e più semplice da
usare).</li>
</ol>
<p>Tranne Fortran, tutti questi linguaggi sono interattivi.</p>
</section>
<section id="seminario-opzionale" class="slide level1">
<h1>Seminario opzionale</h1>
<ul>
<li>Negli scorsi anni ho proposto un seminario di approfondimento su
C++, Assembler, Python e Julia.</li>
<li>Nel seminario spiego le differenze tra di loro e do indicazioni su
come scegliere lo strumento di lavoro migliore.</li>
<li>È stato un seminario che ha sempre riscosso abbastanza
successo.</li>
<li>Se alcuni di voi sono interessati, posso riproporlo, ma suggerirei
di farlo dopo la sessione di esami.</li>
</ul>
</section>
    </div>
  </div>

  <script src="reveal.js-5.2.1/dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="reveal.js-5.2.1/plugin/notes/notes.js"></script>
  <script src="reveal.js-5.2.1/plugin/search/search.js"></script>
  <script src="reveal.js-5.2.1/plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // New feature in Reveal.js 5.0: see
        // <https://revealjs.com/scroll-view/>
        view: 'scroll',

        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

       // Parallax background image
       parallaxBackgroundImage: './media/background.png', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1440,

        height: 810,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch
        ]
      });
    </script>
    <script src="js/asciinema-player.js"></script>
    </body>
</html>
