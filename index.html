<!DOCTYPE html>
<html  lang="it-IT"  dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Lezioni del corso di TNDS</title>
        <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon-precomposed" href="images/apple-touch-icon.png">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/2.26.4/css/uikit.gradient.css">

        <!-- <link rel="stylesheet" href="style.css"> -->
        <link rel="stylesheet" href="https://cdn.rawgit.com/diversen/pandoc-uikit/master/style.css">
        <link href="css/custom.css" rel="stylesheet" />
        <link href="https://vjs.zencdn.net/5.4.4/video-js.css" rel="stylesheet" />
        <script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
        <!-- <script src="uikit.js"></script> -->
        <script src="https://cdn.rawgit.com/diversen/pandoc-uikit/master/uikit.js"></script>
        <!-- <script src="scripts.js"></script> -->
        <script src="https://cdn.rawgit.com/diversen/pandoc-uikit/master/scripts.js"></script>
        <!-- <script src="jquery.sticky-kit.js "></script> -->
        <script src="https://cdn.rawgit.com/diversen/pandoc-uikit/master/jquery.sticky-kit.js"></script>

        <meta name="generator" content="pandoc-uikit" />
                <meta name="author" content="Maurizio Tomasi" />
                        <title>Lezioni del corso di TNDS</title>
        <style type="text/css">code{white-space: pre;}</style>
                        <style type="text/css">
            pre > code.sourceCode { white-space: pre; position: relative; }
            pre > code.sourceCode > span { line-height: 1.25; }
            pre > code.sourceCode > span:empty { height: 1.2em; }
            .sourceCode { overflow: visible; }
            code.sourceCode > span { color: inherit; text-decoration: inherit; }
            div.sourceCode { margin: 1em 0; }
            pre.sourceCode { margin: 0; }
            @media screen {
            div.sourceCode { overflow: auto; }
            }
            @media print {
            pre > code.sourceCode { white-space: pre-wrap; }
            pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
            }
            pre.numberSource code
              { counter-reset: source-line 0; }
            pre.numberSource code > span
              { position: relative; left: -4em; counter-increment: source-line; }
            pre.numberSource code > span > a:first-child::before
              { content: counter(source-line);
                position: relative; left: -1em; text-align: right; vertical-align: baseline;
                border: none; display: inline-block;
                -webkit-touch-callout: none; -webkit-user-select: none;
                -khtml-user-select: none; -moz-user-select: none;
                -ms-user-select: none; user-select: none;
                padding: 0 4px; width: 4em;
                color: #aaaaaa;
              }
            pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
            div.sourceCode
              {   }
            @media screen {
            pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
            }
            code span.al { color: #ff0000; font-weight: bold; } /* Alert */
            code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
            code span.at { color: #7d9029; } /* Attribute */
            code span.bn { color: #40a070; } /* BaseN */
            code span.bu { color: #008000; } /* BuiltIn */
            code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
            code span.ch { color: #4070a0; } /* Char */
            code span.cn { color: #880000; } /* Constant */
            code span.co { color: #60a0b0; font-style: italic; } /* Comment */
            code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
            code span.do { color: #ba2121; font-style: italic; } /* Documentation */
            code span.dt { color: #902000; } /* DataType */
            code span.dv { color: #40a070; } /* DecVal */
            code span.er { color: #ff0000; font-weight: bold; } /* Error */
            code span.ex { } /* Extension */
            code span.fl { color: #40a070; } /* Float */
            code span.fu { color: #06287e; } /* Function */
            code span.im { color: #008000; font-weight: bold; } /* Import */
            code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
            code span.kw { color: #007020; font-weight: bold; } /* Keyword */
            code span.op { color: #666666; } /* Operator */
            code span.ot { color: #007020; } /* Other */
            code span.pp { color: #bc7a00; } /* Preprocessor */
            code span.sc { color: #4070a0; } /* SpecialChar */
            code span.ss { color: #bb6688; } /* SpecialString */
            code span.st { color: #4070a0; } /* String */
            code span.va { color: #19177c; } /* Variable */
            code span.vs { color: #4070a0; } /* VerbatimString */
            code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
        </style>
                        <link rel="stylesheet" href="./css/asciinema-player.css" />
                                                        <script src="./fmtinstall.js"></script>
                 
    </head>

    <body>


        <div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">

                        <div class="uk-grid" data-uk-grid-margin>
                <div class="uk-width-1-1">
                    <h1 class="uk-heading-large">Lezioni del corso di
TNDS</h1>
                                        <h3 class="uk-heading-large">A.A.
2023−2024</p></h3>
                                                            <p class="uk-text-large">Maurizio
Tomasi</p>
                                    </div>
            </div>
            
            <div class="uk-grid" data-uk-grid-margin >          
                <div class="uk-width-medium-1-4">
                    <div class="uk-overflow-container" data-uk-sticky="{top:25,media: 768}">
                        <div class="uk-panel uk-panel-box menu-begin" >

                            
                        </div>
                    </div>
                </div>

                <div class="uk-width-medium-3-4">
<h1 id="esercizi-e-delle-spiegazioni">Esercizi e delle spiegazioni</h1>
<center>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 42%" />
<col style="width: 45%" />
</colgroup>
<thead>
<tr class="header">
<th>Data</th>
<th>Esercizi</th>
<th>Spiegazione</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>26 Settembre 2022</td>
<td><a href="carminati-esercizi-01.html">Arrays</a></td>
<td><a href="tomasi-lezione-01.html">Lezione 1</a></td>
</tr>
<tr class="even">
<td>3 Ottobre 2023</td>
<td><a href="carminati-esercizi-02.html">Classe
<code>Vettore</code></a></td>
<td><a href="tomasi-lezione-02.html">Lezione 2</a></td>
</tr>
<tr class="odd">
<td>10 Ottobre 2023</td>
<td><a href="carminati-esercizi-03.html">Template e
<code>vector</code></a></td>
<td><a href="tomasi-lezione-03.html">Lezione 3</a></td>
</tr>
<tr class="even">
<td>17 Ottobre 2023</td>
<td><a href="carminati-esercizi-04.html">Esercizi facoltativi</a></td>
<td></td>
</tr>
<tr class="odd">
<td>24 Ottobre 2023</td>
<td><a href="carminati-esercizi-05.html">Classi ed ereditarietà</a></td>
<td><a href="tomasi-lezione-05.html">Lezione 5</a></td>
</tr>
<tr class="even">
<td>31 Ottobre 2023</td>
<td><a href="carminati-esercizi-06.html">Ricerca di zeri</a></td>
<td><a href="tomasi-lezione-06.html">Lezione 6</a></td>
</tr>
<tr class="odd">
<td>7 Novembre 2023</td>
<td><a href="carminati-esercizi-07.html">Quadratura numerica</a></td>
<td><a
href="https://ziotom78.github.io/tnds-notebooks/lezione07/">Notebook
7</a></td>
</tr>
<tr class="even">
<td>14 Novembre 2023</td>
<td><a href="carminati-esercizi-08.html">Equazioni
differenziali</a></td>
<td><a
href="https://ziotom78.github.io/tnds-notebooks/lezione08/">Notebook
8</a>, <a href="tomasi-lezione-08.html">slides</a></td>
</tr>
<tr class="odd">
<td>20 Novembre 2023</td>
<td>Idem</td>
<td><a
href="2023-11-21%20Equazioni%20differenziali%20Tomasi.pdf">Esempio
svolto</a></td>
</tr>
<tr class="even">
<td>28 Novembre 2023</td>
<td><a href="carminati-esercizi-10.html">Numeri pseudo-casuali e
integrali</a></td>
<td><a
href="https://ziotom78.github.io/tnds-notebooks/lezione10/">Notebook
10</a></td>
</tr>
<tr class="odd">
<td>5 Dicembre 2023</td>
<td>Idem</td>
<td>Idem</td>
</tr>
<tr class="even">
<td>12 Dicembre 2023</td>
<td><a href="carminati-esercizi-12.html">Metodi Monte Carlo</a></td>
<td><a
href="https://ziotom78.github.io/tnds-notebooks/lezione10/">Notebook
10</a></td>
</tr>
</tbody>
</table>
</center>
<!--
Google form per il seminario finale su C++, Python e Julia: <https://forms.gle/99kR6ZADstXEJZZaA>. Slide del seminario: [link](./tomasi-c++-python-julia.html).
-->
<p>Link al Google Form per il <a
href="tomasi-lezione-08.html#/seminario-su-c-python-e-julia">seminario
su C++, Python e Julia</a>: <a
href="https://forms.gle/ZaDv5n6PjDEaNRoT8"
class="uri">https://forms.gle/ZaDv5n6PjDEaNRoT8</a>. <a
href="tomasi-c++-python-julia.html">Slides</a>.</p>
<h1 id="suggerimenti-vari">Suggerimenti vari</h1>
<h2 id="installazione-di-root-e-gnuplot">Installazione di ROOT e
Gnuplot</h2>
<p>A partire dal Gennaio 2022, Repl.it non fornisce più una serie di
programmi nelle proprie Repl, e purtroppo tra i programmi rimossi c’è
anche Gnuplot. I docenti hanno provveduto ad installare sia ROOT che
Gnuplot in ciascuno dei template usati per gli esercizi, ma questo non
avviene se volete creare voi Repl aggiuntive.</p>
<p>Se avete creato una Repl per conto vostro e volete configurarla
esattamente come quelle usate a lezione, eseguite questo comando dalla
console della nuova Repl:</p>
<p>
<input type="text" value="curl -s https://ziotom78.github.io/tnds-tomasi-notebooks/install_standard_packages | sh" id="installStdPackages" readonly="1" size="60"><button onclick='copyFmtInstallationScript("installStdPackages")'>Copia</button>
</p>
<p>Una volta eseguito, ROOT e Gnuplot, più altri utili programmi,
saranno installati ed operativi.</p>
<h2 id="fmtinstall">Uso della libreria <code>fmt</code></h2>
<p>Siete invitati ad impratichirvi con la libreria <code>fmt</code>, che
potete installare usando lo script <a
href="./install_fmt_library"><code>install_fmt_library</code></a>: si
esegue con il comando <code>sh install_fmt_library</code>, e il comando
<strong>va eseguito nella directory in cui avete i vostri
codici!</strong>.</p>
<p>Lo script <code>install_fmt_library</code> è già fornito nei template
degli esercizi forniti per il turno T2, ma potete installarlo anche in
altre Repl con questo comando:</p>
<p>
<input type="text" value="curl https://ziotom78.github.io/tnds-tomasi-notebooks/install_fmt_library | sh" id="installFmt" readonly="1" size="60"><button onclick='copyFmtInstallationScript("installFmt")'>Copia</button>
</p>
<p><strong>Importante</strong>: Il comando va dato all’interno della
directory in cui codificate l’esercizio. Ciò significa che
<strong>ciascuna</strong> delle directory che contiene un esercizio per
cui è necessario usare <code>fmt</code> deve contenere una copia della
libreria. Non preoccupatevi di sprecare spazio, perché la libreria
<code>fmt</code> occupa pochi centinaia di KB.</p>
<p>Se non avete il comando <code>curl</code> o state usando Windows,
scaricate questo <a href="./fmtlib.zip">file zip</a> nella directory di
ciascun esercizio in cui prevedete di usare <code>fmt</code> e
decomprimetelo.</p>
<p>Questo è un esempio che mostra come installare ed usare la
libreria:</p>
<center>
<script id="asciicast-FolwvNAVKQTqGXQs4grz4qjFk" src="https://asciinema.org/a/FolwvNAVKQTqGXQs4grz4qjFk.js" async></script>
</center>
<h2 id="gplotinstall">Gplot++</h2>
<p>Se avete difficoltà ad usare ROOT, potete interfacciare il vostro
codice a <a href="http://www.gnuplot.info/">Gnuplot</a> mediante la
libreria <a href="https://github.com/ziotom78/gplotpp">gplot++</a>: è
sufficiente scaricare il file <a
href="https://raw.githubusercontent.com/ziotom78/gplotpp/master/gplot%2B%2B.h"><code>gplot++.h</code></a>,
oppure eseguire questo comando:</p>
<p>
<input type="text" value="curl 'https://raw.githubusercontent.com/ziotom78/gplotpp/master/gplot%2B%2B.h' > gplot++.h" id="installGplot" readonly="1" size="60"><button onclick='copyFmtInstallationScript("installGplot")'>Copia</button>
</p>
<p>Ricordate che la libreria funziona a patto che abbiate installato
Gnuplot sul vostro computer.</p>
<h2 id="rootvscode">ROOT e Visual Studio Code</h2>
<p>(Suggerimento di Matteo Bettoni) Di default, Visual Studio Code non
riconosce le librerie di ROOT e segnala quindi errore quando incontra
istruzioni come</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;TGraph.h&quot;</span></span></code></pre></div>
<p>Un modo per togliere queste segnalazioni di errore è quello di aprire
il menu “Impostazioni”, e scegliere la voce
“Estensioni”/“C/C++”/“Intellisense” e selezionare “Default: Include
Path”. Premere il bottone “Aggiungi elemento”, ed inserire nella casella
di testo il contenuto dell’output del comando</p>
<pre><code>root-config --incdir</code></pre>
<p><img src="images/root-vscode-config.png" /></p>
<h2 id="cose-da-fare-il-giorno-dello-scritto">Cose da fare il giorno
dello scritto</h2>
<p>Fornisco un piccolo vademecum per aiutarvi a svolgere nel migliore di
modi l’esame scritto.</p>
<ol>
<li><p>Leggete con attenzione il testo, e annotate a margine (o su un
foglio di brutta) le cose che sono esplicitamente richieste e quali no.
Capita che gli studenti si incaponiscano a produrre un grafico fatto in
un certo modo, quando il testo richiedeva semplicemente di “tabulare i
risultati” (ossia, stamparli semplicemente a video!)</p></li>
<li><p>Prima di iniziare a scrivere codice come forsennati, provate a
stimare almeno l’ordine di grandezza delle risposte. Alcuni esempi
pratici:</p>
<ul>
<li><p>Se si fornisce una funzione e si chiedono gli zeri, fate un
grafico con Gnuplot o con Excel per stimarli grossolanamente;</p></li>
<li><p>Se si deve fare una simulazione di un esperimento per stimare
l’errore su un certo parametro, provate a fare una semplice propagazione
degli errori (se i conti non risultano troppo complicati!);</p></li>
<li><p>Se si devono generare numeri casuali con una specifica
distribuzione, implementate come prima cosa nel <code>main</code> un
codice per estrarre ~10 000 numeri e fatene un istogramma: la sua forma
corrisponde alla distribuzione fornita?</p></li>
<li><p>Etc.</p></li>
</ul>
<p>Non spendete però troppo tempo per arrivare a una stima con carta e
penna: se dopo dieci minuti di lavoro siete ancora in alto mare,
lasciate perdere!</p></li>
<li><p>Leggete <em>tutto</em> il testo dell’esame prima di iniziare a
scrivere il codice. Magari nel primo punto vi viene chiesto di assumere
una certa quantità fisica (una massa, una velocità…) come costante, ma
in uno dei punti successivi dovete cambiarne il valore oppure
addirittura trasformarla in una quantità che dipende dal tempo o dallo
spazio. Se leggete prima tutto il testo, potete già fare caso a queste
cose e progettare la struttura del codice in maniera più
efficace.</p></li>
<li><p>I temi di esame sono solitamente espressi come una lista di
punti, ciascuno dei quali è una domanda. <strong>MAI</strong>
implementare il codice che risolve tutti i punti e poi eseguirlo!
Implementate il codice che vi serve per risolvere il primo punto,
stampatelo, verificate i risultati, e quando vi convince passate al
secondo. In questo modo, se i numeri prodotti per il primo punto
appaiono strani, potete correggere gli errori prima di passare al punto
successivo. Altrimenti rischiate di dover buttare via tutto il lavoro:
magari vi rendete conto che per risolvere bene il primo punto avevate
bisogno di <em>due</em> variabili <code>std::vector</code> anziché una
sola, e di conseguenza quanto avete implementato per i punti successivi
non è più valido.</p></li>
<li><p>Non succederà mai che viene richiesto l’uso di ROOT o di Gnuplot
esplicitamente; fare però i grafici è utile per avere l’intuizione se i
risultati che il vostro codice produce sono sensati oppure no.</p></li>
<li><p>Prima di fare i grafici, preoccupatevi però
<strong>sempre</strong> di stampare con <code>cout</code> o con
<code>fmt::println</code> i valori tabulati delle quantità che andate a
mettere nei grafici. Noi docenti siamo sempre disposti a chiudere un
occhio se un grafico risulta sbagliato o vuoto, ma i valori stampati a
video sono corretti: vuol dire che avete semplicemente sbagliato a
creare il grafico, e questo è un errore assolutamente perdonabile.</p>
<p>Nel caso di simulazioni Monte Carlo, i numeri da stampare sono sempre
moltissimi, quindi stampatene giusto qualcuno:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="at">const</span> <span class="dt">int</span> num_of_simulations <span class="op">=</span> <span class="dv">10&#39;000</span><span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;</span> results<span class="op">{</span>num_of_simulations<span class="op">};</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i<span class="op">{};</span> i <span class="op">&lt;</span> num_of_simulations<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  results<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> run_simulation<span class="op">();</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Stampo i primi 5 valori calcolati a video</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span><span class="op">(</span>i <span class="op">&lt;</span> <span class="dv">5</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;</span><span class="sc">{}\t{}</span><span class="st">&quot;</span><span class="op">,</span> i<span class="op">,</span> results<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><p>Capita spesso che venga richiesto di ripetere un’analisi più
volte. Ad esempio, si deve calcolare un integrale col metodo di Simpson
usando un numero di step via via crescente, o si deve risolvere
un’equazione differenziale variando il numero di passi, etc.</p>
<p>Alcuni studenti, presi dal “panico dell’esame”, lavorano di
copia-e-incolla: risolvono il problema nel primo caso, poi copiano e
incollano lo stesso codice nel <code>main</code> tante volte quante sono
i casi da studiare, e aggiustano a mano quei parametri che vanno
aggiornati. Ecco un esempio:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Il tema d&#39;esame richiede di simulare un esperimento N volte</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// e stimare l&#39;errore su un certo parametro A, e chiede di</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">// vedere come l&#39;errore su A cambia al variare di N. Il testo</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// chiede di far assumere a N i valori { 100, 500, 1000, 5000 }.</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> risultato<span class="op">{};</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Codice per N = 100</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i<span class="op">{};</span> i <span class="op">&lt;</span> <span class="dv">100</span><span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Qui aggiorno la variabile `risultato`</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Risultato per N = 100: </span><span class="sc">{}</span><span class="st">&quot;</span><span class="op">,</span> risultato<span class="op">);</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Codice per N = 500, copiato da sopra</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i<span class="op">{};</span> i <span class="op">&lt;</span> <span class="dv">500</span><span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Qui aggiorno la variabile `risultato`</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Risultato per N = 500: </span><span class="sc">{}</span><span class="st">&quot;</span><span class="op">,</span> risultato<span class="op">);</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Codice per N = 1000, copiato da sopra</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i<span class="op">{};</span> i <span class="op">&lt;</span> <span class="dv">1000</span><span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Qui aggiorno la variabile `risultato`</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Risultato per N = 1000: </span><span class="sc">{}</span><span class="st">&quot;</span><span class="op">,</span> risultato<span class="op">);</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Codice per N = 5000, copiato da sopra</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i<span class="op">{};</span> i <span class="op">&lt;</span> <span class="dv">1000</span><span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Qui aggiorno la variabile `risultato`</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Risultato per N = 5000: </span><span class="sc">{}</span><span class="st">&quot;</span><span class="op">,</span> risultato<span class="op">);</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Questo porta ad alcuni problemi gravi:</p>
<ul>
<li><p>Vi fa fare una <strong>pessima</strong> figura davanti al
docente, che probabilmente scalerà qualche punto dal giudizio finale per
il vostro scritto;</p></li>
<li><p>Se vi accorgete solo dopo aver fatto copia-e-incolla che c’era un
errore nel caso con <code>N = 100</code>, lo dovrete correggere per
tutti gli altri casi. Questo vi farà sprecare molto tempo, che in un
esame è una risorsa preziosa;</p></li>
<li><p>In ognuna delle copie del codice che avete incollato bisogna
ovviamente cambiare qualcosa qua e là; è facile che ci sia almeno una di
quelle copie in cui modificate la riga sbagliata, oppure non la
modificate del tutto. (È il caso dell’esempio sopra: ve ne eravate
accorti?)</p></li>
</ul>
<p>La cosa migliore da fare è quella di spostare il codice che va
ripetuto all’interno di una funzione, e poi chiamarla più volte nel
<code>main</code>:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> calcola_risultato<span class="op">(</span><span class="dt">int</span> N<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Qui va tutta l&#39;implementazione del calcolo</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="bu">std::</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> list_of_N<span class="op">{</span><span class="dv">100</span><span class="op">,</span> <span class="dv">500</span><span class="op">,</span> <span class="dv">1000</span><span class="op">,</span> <span class="dv">5000</span><span class="op">};</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span><span class="op">(</span><span class="dt">int</span> i<span class="op">{};</span> i <span class="op">&lt;</span> <span class="op">(</span><span class="dt">int</span><span class="op">)</span> list_of_N<span class="op">.</span>size<span class="op">();</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Ricordate di usare list_of_N.at(i) anziché list_of_N[i],</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="co">// perché così il compilatore controlla che il valore di `i`</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">// non esca dai limiti del vettore</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> cur_N<span class="op">{</span>list_of_N<span class="op">.</span>at<span class="op">(</span>i<span class="op">)};</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">double</span> risultato<span class="op">{</span>calcola_risultato<span class="op">(</span>cur_N<span class="op">)};</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Risultato per N = </span><span class="sc">{}</span><span class="st">: </span><span class="sc">{}</span><span class="st">&quot;</span><span class="op">,</span> cur_N<span class="op">,</span> risultato<span class="op">);</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>Per fare un esempio un po’ più complicato, immaginiamo che vi venga
chiesto di fare la simulazione di un esperimento dati tre parametri
<span class="math inline"><em>A</em></span>, <span
class="math inline"><em>B</em></span> e <span
class="math inline"><em>C</em></span>, e che l’esercizio si articoli in
tre punti:</p>
<ul>
<li><p>Prima dovete calcolare il risultato dell’esperimento supponendo
che il parametro <span class="math inline"><em>A</em></span> sia affetto
da errore, mentre altre due quantità <span
class="math inline"><em>B</em></span> e <span
class="math inline"><em>C</em></span> usate nella simulazione non hanno
errore;</p></li>
<li><p>Poi dovete invece supporre che sia <span
class="math inline"><em>B</em></span> affetto da errore, ma non <span
class="math inline"><em>A</em></span> e <span
class="math inline"><em>C</em></span>;</p></li>
<li><p>Infine dovete supporre che solo <span
class="math inline"><em>C</em></span> sia affetto da un errore.</p></li>
</ul>
<p>Si possono inventare soluzioni sofisticate che impieghino un
<code>std::vector</code> per seguire l’idea della variabile
<code>list_of_N</code> nell’esempio precedente, ma nel caso di uno
scritto (in cui il tempo è limitato) è meglio non stare a lambiccarsi
troppo, e il codice seguente va più che bene:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">double</span> calcola_risultato<span class="op">(</span><span class="dt">double</span> A<span class="op">,</span> <span class="dt">double</span> err_A<span class="op">,</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                         <span class="dt">double</span> B<span class="op">,</span> <span class="dt">double</span> err_B<span class="op">,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                         <span class="dt">double</span> C<span class="op">,</span> <span class="dt">double</span> err_C<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Qui va tutta l&#39;implementazione della logica, che può essere lunga!</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">// ...</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Questi sono i parametri dell&#39;esperimento, che immaginiamo siano</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">// forniti nel testo dell&#39;esercizio</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> A_rif<span class="op">{</span><span class="fl">1.0</span><span class="op">};</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> B_rif<span class="op">{</span><span class="fl">2.0</span><span class="op">};</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> C_rif<span class="op">{</span><span class="fl">3.0</span><span class="op">};</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> err_A_rif<span class="op">{</span><span class="fl">0.03</span><span class="op">};</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> err_B_rif<span class="op">{</span><span class="fl">0.05</span><span class="op">};</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> err_C_rif<span class="op">{</span><span class="fl">0.02</span><span class="op">};</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Soluzione del primo punto: introduco solo un errore su A</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> risultato1<span class="op">{</span>calcola_risultato<span class="op">(</span>A_rif<span class="op">,</span> err_A_rif<span class="op">,</span> B_rif<span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> C_rif<span class="op">,</span> <span class="fl">0.0</span><span class="op">)};</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Soluzione del secondo punto: introduco solo un errore su B</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> risultato2<span class="op">{</span>calcola_risultato<span class="op">(</span>A_rif<span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> B_rif<span class="op">,</span> err_B_rif<span class="op">,</span> C_rif<span class="op">,</span> <span class="fl">0.0</span><span class="op">)};</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Soluzione del terzo punto: introduco solo un errore su C</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="dt">double</span> risultato3<span class="op">{</span>calcola_risultato<span class="op">(</span>A_rif<span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> B_rif<span class="op">,</span> <span class="fl">0.0</span><span class="op">,</span> C_rif<span class="op">,</span> err_C_rif<span class="op">)};</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Stampo i risultati</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Punto 1 (errore solo su A): </span><span class="sc">%f</span><span class="st">&quot;</span><span class="op">,</span> risultato1<span class="op">);</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Punto 2 (errore solo su B): </span><span class="sc">%f</span><span class="st">&quot;</span><span class="op">,</span> risultato2<span class="op">);</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>  fmt<span class="op">::</span>println<span class="op">(</span><span class="st">&quot;Punto 3 (errore solo su C): </span><span class="sc">%f</span><span class="st">&quot;</span><span class="op">,</span> risultato3<span class="op">);</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><p>Prima di consegnare lo scritto, rimettete a posto la
formattazione. Se usate Replit, è sufficiente premere Ctrl+S dopo aver
modificato ciascun file. Altrimenti, dal terminale eseguite questo
comando, che è molto più rapido:</p>
<pre><code>clang-format -i *.cpp *.h</code></pre>
<p>per sistemare le indentazioni e i rientri di tutti i file
<code>*.h</code> e <code>*.cpp</code> presenti nella cartella. Questo vi
farà fare un figurone! (Sarebbe stata un’ottima cosa fare lo stesso
anche per gli esercizi che avete consegnato. Ma se state leggendo queste
righe per la prima volta solo il giorno dello scritto, ahimè è troppo
tardi…)</p></li>
</ol>                    
                </div>
            </div>

            <script src="https://vjs.zencdn.net/5.4.4/video.js"></script>
        </div>
    </body>
</html>
